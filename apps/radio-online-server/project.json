{
  "name": "radio-online-server",
  "root": "apps/radio-online-server",
  "sourceRoot": "apps/radio-online-server",
  "projectType": "application",
  "targets": {
    "serve": {
      "executor": "nx:run-commands",
      "options": {
        "cwd": "apps/radio-online-server",
        "commands": [
          "docker compose --env-file .env.test down",
          "docker compose --env-file .env.test up -d --build"
        ],
        "parallel": false
      }
    },
    "deploy": {
      "executor": "nx:run-commands",
      "options": {
        "cwd": "apps/radio-online-server",
        "commands": [
          "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test down\"",
          "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"rm -rf /volume1/DEMO/server-test/*\"",
          "tar -czf - * | ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && tar -xzf -\"",
          "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test build --no-cache --pull\"",
          "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test up -d\""
        ],
        "parallel": false
      },
      "configurations": {
        "development": {
          "commands": [
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test down\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"rm -rf /volume1/DEMO/server-test/*\"",
            "tar -czf - * | ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && tar -xzf -\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test build --no-cache --pull\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server-test && sudo docker-compose -p test --env-file .env.test up -d\""
          ]
        },
        "production": {
          "commands": [
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server && sudo docker-compose -p prod --env-file .env.prod down\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"find /volume1/DEMO/server -mindepth 1 -maxdepth 1 ! -name data -exec rm -rf {} +\"",
            "tar --exclude='data' -czf - . | ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server && tar -xzf -\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server && sudo docker-compose -p prod --env-file .env.prod build --no-cache --pull\"",
            "ssh -i %USERPROFILE%\\.ssh\\id_rsa -p 1998 wscc1031@wscc1031.synology.me \"cd /volume1/DEMO/server && sudo docker-compose -p prod --env-file .env.prod up -d\""
          ]
        }
      },
      "defaultConfiguration": "development"
    }
  },
  "tags": []
} 